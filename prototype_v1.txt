/* exmpales followed:
	/S7_surfaces/signal.txt
	/S7_surfaces/unbounded_diffusion/emitter1.txt
	/S99_more/neuron/neuron.txt

units: um us
*/

#Q: uniform distribution in a compartment?
#how to code geometry of the nanodomain
#multiple sources of ca (more than one channels)
#get rid of the black edged box
#how to make the graphics interactive?
#how to make difc of ca2+ depends on compartment?
#how to view radial diffusion of ca2+?
#how to create multiple nanodomains?
#depending on the size of nanodomain (cluster), ca2+ will choose to spread horizontally or radially

#-------------General parameters-------

graphics opengl_good
graphic_iter 1
frame_thickness 0
frame_color 1 1 1

#grid_thickness 1

dim 3
accuracy 10

#boxsize 0.5
molperbox 1

boundaries 0 -6 6 	#-5000 5000
boundaries 1 -6 6	#-5000 5000
boundaries 2  -6 6	#-5000 5000

time_start 0
time_stop  1000
time_step  0.001

#-------------Molecules----------------
species ca
species cam
species cam-ca
species calbindin
species calbindin-ca

display_size ca 0.02
display_size cam 0.02
display_size cam-ca 0.02
display_size calbindin 0.02
display_size calbindin-ca 0.02

color ca  red
color cam black
color cam-ca cyan
color calbindin green
color calbindin-ca pink

difc ca			60*10e-6	#um^2 us^(-1)
difc cam		50*10e-6
difc cam-ca 		50*10e-6	#assumption	
difc calbindin		50*10e-6
difc calbindin-ca	50*10e-6

define camNT_kon		7.7*0.17*10e-6 	#um^3 us^(-1)
define camNT_koff			0.16		#us^(-1)
define camNR_kon
define camNR_koff
define camCT_kon
define camCT_koff
define camCR_kon
define camCR_koff


define calbin_kon	7.5*0.17*10e-7
define calbin_koff	29.5*10e-6

#------------surfaces------------------
start_surface cell
action both all reflect
color both black 0
polygon both edge 
#cell membrane
read_file cell
end_surface

start_surface shell
action both all t
color both grey 0.5
polygon both edge
read_file shell
end_surface

start_compartment nano
surface shell
surface cell
point 0		0 		4.98
point 0 	4.98  	0
point 4.98	0		0
point 0		0		-4.98
point 0		-4.98	0
point -4.98	0		0

end_compartment

start_compartment cytol
surface shell
surface cell
#compartment andnot nano
point 0 0 0
end_compartment
#-----------reactions------------------
reaction   cam1	ca + cam -> cam-ca	cam_kon				
reaction   cam2	cam-ca -> ca + cam	cam_koff		

reaction_cmpt cytol calbin1 ca + calbindin -> calbindin-ca	calbin_kon 
reaction_cmpt cytol calbin2 calbindin-ca -> ca + calbindin  	calbin_koff
#------------molecules in compartment--

mol 1000  ca  0 	   0     4.99
mol 1000  ca  0 	   4.99  0
mol 1000  ca  4.99  0     0
mol 1000  ca  0 	   0	 -4.99
mol 1000  ca  0	  -4.99  0
mol 1000  ca -4.99  0 	 0 	 

compartment_mol 150 cam 		nano
compartment_mol 0   cam-ca  		nano
compartment_mol 500 calbindin 		cytol
compartment_mol 0   calbindin-ca  	cytol
compartment_mol 500 cam			cytol
#------------commands------------------
#cmd e pointsource ca 5 0 0 4.99 
#cmd e pointsource ca 5 0 4.99 0
#cmd e pointsource ca 5 4.99 0 0

text_display ca
text_display cam
text_display cam-ca
text_display calbindin
text_display calbindin-ca

cmd b pause
output_root results/
output_files nanomols.txt
output_files cytolmols.txt
cmd e molcountincmpt nano nanomols.txt
cmd e molcountincmpts cytol cytolmols.txt

#tiff_name prototype
end_file
